# S3

**파일 관련 API**

```
업로드 성공시 HTTP 200 코드 반환
```

**static web 호스팅 가능**

```
html / javascript등으로 구성된 static 사이트만 가능 -> React 등

Serverless 구성의 기초

```

**Put(새로 생성) 읽기 후 쓰기(Read After Write)**

```
파일을 올리고 성공한 즉시(200 코드 반환) 읽기 가능

먼저 Put한 요청이 우선권
```

**Update / Delete**

```
파일을 삭제하거나 업데이트 후 일정 시간 후에 결과가 반영됨 -> ex) 서울에서 업데이트하고 부산까지 적용되는 상황

원자성 확보 불가능
```

**S3 티어**

```
S3 Standard

-> 가장 일반적인거

S3 -IA(Infrequently Accessed)

-> 자주 사용되지 않는 데이터를 저렴한 가격에 보관
-> 데이터를 불러올 때마다 비용 지불

S3 -One Zone IA

-> IA와 같으나 하나의 AZ에만 저장됨
-> 덜중요하고 자주 사용되지 않는 데이터

S3 Intelligent Tiering

-> 머신 러닝을 사용해 자동으로 티어 변경
-> 퍼포먼스 손해/오버헤드 없음

S3 -Glacier

-> 아카이브용 저장소
-> 저렴한 가격
-> 데이터를 가져오는데 분~시간 단위의 시간이 소요

S3 -Glacier Deep Archive

-> 매우 쌈
-> 데이터를 가져오는데 12시간 정도 필요함

```

**S3 Cross Region Replication**

```
-> 다른 Region으로 복제 가능
-> 버저닝이 활성화 되어 있어야 함(원본, 대상 모두)
-> 버전 삭제 혹은 파일 삭제는 복제되지 않음
```

**S3 수명주기**

```
"`~~시간이 지난 후 ~~을 하라"라는 명령

-> 예: 30일이 지난후 삭제
-> 예: 30일이 지난후 Glacier로 옮기기

파일이 업로드 /삭제/업데이트 되었을때 Lambda 호출 가능

-> ex) 이미지가 업데이트 되었을때 해당이미지 썸네일 만들어서 다른 버킷에 넣는 그런것

```

**S3 Atena**

```
S3를 SQL 언어로 조회할 수 있는 서비스

-> SQL쿼리 사용
-> Serverless
-> 로그를 조회하거나 분석하는데 주로 활용

```

